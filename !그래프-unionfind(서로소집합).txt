ğŸ“Œë¬´ë°©í–¥ ê·¸ë˜í”„ ë‚´ì—ì„œì˜ ì‚¬ì´í´ì„ íŒë³„í•  ë•Œ ì‚¬ìš©

#íŠ¹ì • ì›ì†Œê°€ ì†í•œ ì§‘í•©ì„ ì°¾ê¸°
def find_parent(parent, x):
  #ë£¨íŠ¸ ë…¸ë“œê°€ ì•„ë‹ˆë¼ë©´, ë£¨íŠ¸ ë…¸ë“œë¥¼ ì°¾ì„ ë•Œê¹Œì§€ ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œ
  #ê²½ë¡œ ì••ì¶• ê¸°ë²•ì„ í†µí•´ ì‹œê°„ë³µì¡ë„ ê°œì„ 
  if parent[x] != x:
    parent[x] = find_parent(parent, parent[x])
  return parent[x]
    
#ë‘ ì›ì†Œê°€ ì†í•œ ì§‘í•©ì„ í•©ì¹˜ê¸°
def union_parent(parent, a, b):
  a = find_parent(parent, a)
  b = find_parent(parent, b)
  if a < b:
    parent[b] = a
  else:
    parent[a] = b

#ë…¸ë“œì˜ ê°œìˆ˜ì™€ ê°„ì„ ì˜ ê°œìˆ˜ ì…ë ¥ë°›ê¸°
v, e = map(int, input().split())
#ë¶€ëª¨ í…Œì´ë¸” ì´ˆê¸°í™”
parent = [0] * (v+1)

#ë¶€ëª¨í…Œì´ë¸” ì´ˆê¸°í™”
for i in range(1, v+1):
  parent[i] = i

#union ì—°ì‚° ìˆ˜í–‰
for i in range(e):
  a, b = map(int, input().split())
  union_parent(parent, a, b)

#ê° ì›ì†Œê°€ ì†í•œ ì§‘í•© ì¶œë ¥
print("ê° ì›ì†Œê°€ ì†í•œ ì§‘í•© : ", end = '')
for i in range(1, v+1):
  print(find_parent(parent, i), end = ' ')

print()

#ë¶€ëª¨ í…Œì´ë¸” ë‚´ìš© ì¶œë ¥
print("ë¶€ëª¨ í…Œì´ë¸” : ", end = '')
for i in range(1, v+1):
  print(parent[i], end = ' ')